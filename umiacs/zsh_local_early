# Set PATH
#source ~/.zshpath

# TESTING
if [[ $ZSHLOCAL_LOADED = true ]]; then
    return
fi

# launch more recent z shell
if [ $(echo $ZSH_VERSION | sed "s/\.//g") -lt 500 ]; then
    exec zsh -l
fi

## switch main group to hpgl
if [ $(id -gn) != "hpgl" ]; then
    newgrp hpgl
    exit
fi

#Enable group read access
umask 0002

# fix zsh fpath
#export FPATH="$PREFIX/usr/share/zsh/site-functions:$PREFIX/usr/share/zsh/functions:$FPATH"
#fpath=( $fpath $PREFIX/usr/share/zsh/site-functions )
#fpath=( $fpath $PREFIX/usr/share/zsh/functions )
export PATH=$PATH:$HOME/.gem/ruby/2.5.0/bin

# ibis doesn't like my java settings
unset _JAVA_OPTIONS

# ZSH
ZSH_THEME='gallois'
plugins=(git)

# Lab settings
export LOGS="${LAB}/logs"
export RAW="${LAB}/raw_data"
export REF="${LAB}/ref_data"
export SCRATCH=${SCRATCH-"/cbcb/nelsayed-scratch/${USER}"}
export PERL5LIB=$HOME/perl5/lib/perl5 

# Don't do more work than necessary
export ZSHLOCAL_LOADED='TRUE'
