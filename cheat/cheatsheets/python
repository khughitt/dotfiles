# type hints cheatsheet
https://mypy.readthedocs.io/en/stable/cheat_sheet_py3.html

# ipython x pdb
from IPython import embed; embed()

# flatten nested lists (itertools)
list(itertools.chain(*regular_list))

# flatten nested lists (sum)
sum(regular_list, [])

# start a web server
python3 -m http.server 7800

# regex
\s  whitespace
\W  non-word character

# regex matching;
# match: left-anchored
# search: anywhere
re = re.compile(r".*foo")
re.match(target)
re.search(target)

# findall
re.findall("(.*\.png|.*\.jpg|.*\.jpeg|.*\.svg)", x)

# re match obj
matches = re.search(regex)

if matches:
    ...

for m in matches:
    ... 

matches.group(1)
matches.groups()
matches.groupdict()

# combine dicts
{**x, **y}
x | y # python 3.9

# get current timestamp
import time
ts = time.time()

# get current date in specified format
import datetime
datetime.datetime.now().strftime("%Y-%m-%d")

# load yaml
import yaml

with open('cfg.yml') as fp:
    cfg = yaml.load(fp, Loader=yaml.FullLoader)

# from json
x =  '{"foo": "bar"}'
json.loads(x)

# to json
json.dumps({'foo': 'bar'})

# download file with urllib.request
import urllib.request

with urllib.request.urlopen("http://<remote>") as fp:
    dat = fp.read()

with open("/path/to/<local>", "wb") as fp:
    fp.write(dat)

# md5sum
import hashlib

source = '<input..>'.encode()
md5 = hashlib.md5(source).hexdigest()
